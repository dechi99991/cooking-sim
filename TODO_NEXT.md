# 次回実装予定表

作成日: 2026-01-03

## 🔴 最優先（バグ修正）

### 1. ~~レリック期限延長は取得後の食材のみ~~ ✅ 完了 (2026-01-05)
- **問題:** 期限切れ食材がレリック取得で復活してしまう
- **対応:** `RelicInventory`に取得日を記録し、食材購入日以降に取得したレリックの効果のみ適用
- **変更ファイル:** `game/relic.py`, `game/ingredients.py`, `game/cooking.py`, `game/day_cycle.py`, `ui/terminal.py`, `main.py`

### 2. ~~購入済みレリックを通販/イベントから除外~~ ✅ 完了 (2026-01-05)
- **問題:** 既に持っているレリックが通販やイベントに出る
- **対応:** `generate_daily_relic_items`に所持・配送待ちレリックを渡して除外
- **変更ファイル:** `game/relic.py`, `ui/terminal.py`
- **備考:** イベントでのレリック出現は未実装のため対応不要

---

## 🟠 高優先（ゲームバランス）

### 3. ~~買い物バッグ上限 + 拡張アイテム~~ ✅ 完了 (2026-01-05)
- **内容:** 1回の買い物で持てる量に制限（デフォルト5個）
- **拡張:** エコバッグ等のレリック5種類を追加（+2〜+5個）
- **変更ファイル:** `game/config.py`, `game/constants.py`, `game/relic.py`, `game/day_cycle.py`, `ui/terminal.py`, `main.py`

### 4. ネームド料理ボーナス
- **内容:** 特定の食材組み合わせで「カレーライス」等のネームド料理が作れる
- **効果:** 栄養ボーナス、満腹度ボーナス、実績など
- **関連ファイル:** `game/cooking.py`（新規: レシピデータ）

---

## 🟡 中優先（UX向上）

### 5. ネームド料理サジェスト
- **内容:** 冷蔵庫の食材でネームド料理が作れる場合、サジェスト表示
- **表示例:** 「★ カレーライス が作れます！（満腹+2, 栄養1.5倍）」
- **前提:** #4の実装が必要
- **関連ファイル:** `ui/terminal.py`, `game/cooking.py`

### 6. 調理時のざっくりサジェスト
- **内容:** 選んだ食材の組み合わせを評価してコメント表示
- **表示例:**
  - 良い: 「これなら腹いっぱいだし栄養もいいだろう！」
  - 悪い: 「これでは腹も空くし、栄養も偏っているだろう...」
- **確認:** 「いいですか？ はい / いいえ」
- **関連ファイル:** `ui/terminal.py`, `main.py`

---

## 🟢 低優先（コンテンツ追加）

### 7. 休日専用イベント
- **内容:** 土日のみ発生するイベントを追加
- **例:** 友人とBBQ、朝寝坊、休日セール など
- **関連ファイル:** `game/event_data.py`

### 8. 休日専用選択肢
- **内容:** 休日の過ごし方に選択肢を追加
- **例:** 遠出して買い物、料理の作り置き、のんびり休養 など
- **関連ファイル:** `game/day_cycle.py`, `main.py`, `ui/terminal.py`

---

## 🔵 後回し（設計変更）

### 9. 冷蔵庫・電子レンジ初期レリック化
- **内容:** ゲーム開始時に冷蔵庫と電子レンジを所持した状態にする
- **目的:**
  - 長期プレイで壊れるイベント対応
  - 「レリックなし縛り」プレイ対応
- **関連ファイル:** `game/relic.py`, `game/day_cycle.py`

---

## 実装済み機能（参考）

- [x] 100種類の食材
- [x] 100種類のレリック（毎日5種ランダム）
- [x] 280種類のランダムイベント（7タイミング×40種）
- [x] 通販の翌日配送システム
- [x] 昼食の食糧複数選択
- [x] 通販食糧のセール
- [x] スーパーのカテゴリ固定化（穀物/野菜/肉魚/卵乳豆/その他）
- [x] クレジットカード払い
- [x] 天気システム
- [x] カフェイン・不眠システム
