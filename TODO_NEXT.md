# 次回実装予定表

作成日: 2026-01-03

## 🔴 最優先（バグ修正）

### 1. ~~レリック期限延長は取得後の食材のみ~~ ✅ 完了 (2026-01-05)
- **問題:** 期限切れ食材がレリック取得で復活してしまう
- **対応:** `RelicInventory`に取得日を記録し、食材購入日以降に取得したレリックの効果のみ適用
- **変更ファイル:** `game/relic.py`, `game/ingredients.py`, `game/cooking.py`, `game/day_cycle.py`, `ui/terminal.py`, `main.py`

### 2. ~~購入済みレリックを通販/イベントから除外~~ ✅ 完了 (2026-01-05)
- **問題:** 既に持っているレリックが通販やイベントに出る
- **対応:** `generate_daily_relic_items`に所持・配送待ちレリックを渡して除外
- **変更ファイル:** `game/relic.py`, `ui/terminal.py`
- **備考:** イベントでのレリック出現は未実装のため対応不要

---

## 🟠 高優先（ゲームバランス）

### 3. ~~買い物バッグ上限 + 拡張アイテム~~ ✅ 完了 (2026-01-05)
- **内容:** 1回の買い物で持てる量に制限（デフォルト5個）
- **拡張:** エコバッグ等のレリック5種類を追加（+2〜+5個）
- **変更ファイル:** `game/config.py`, `game/constants.py`, `game/relic.py`, `game/day_cycle.py`, `ui/terminal.py`, `main.py`

### 4. ~~ネームド料理ボーナス~~ ✅ 完了 (2026-01-05)
- **内容:** 特定の食材組み合わせで「カレーライス」等のネームド料理が作れる
- **効果:** 栄養倍率ボーナス（1.2〜1.4倍）、満腹度ボーナス（+0〜+2）
- **変更ファイル:** `game/cooking.py`, `ui/terminal.py`
- **備考:** 17種類のネームド料理を追加

---

## 🟡 中優先（UX向上）

### 5. ~~ネームド料理サジェスト~~ ✅ 完了 (2026-01-05)
- **内容:** 冷蔵庫の食材でネームド料理が作れる場合、サジェスト表示
- **表示例:** 「★ カレーライス （満腹+2, 栄養130%）」+ 材料一覧
- **変更ファイル:** `ui/terminal.py`

### 6. ~~調理時のざっくりサジェスト~~ ✅ 完了 (2026-01-05)
- **内容:** 選んだ食材の組み合わせを評価してコメント表示
- **表示例:**
  - 良い: 「これなら腹いっぱいだし栄養もいいだろう！」
  - 悪い: 「これでは腹も空くし、栄養も偏っているだろう...」
- **確認:** 「いいですか？ はい / いいえ」でキャンセル可能
- **変更ファイル:** `game/cooking.py`, `ui/terminal.py`, `main.py`

---

## 🟢 低優先（コンテンツ追加）

### 7. ~~休日専用イベント~~ ✅ 完了 (2026-01-05)
- **内容:** 土日のみ発生するイベント20種類を追加
- **例:** 友人とBBQ、朝寝坊、週末セール、サザエさん症候群 など
- **変更ファイル:** `game/event_data.py`
- **備考:** 全イベント数 280→300種類

### 8. ~~休日専用選択肢~~ ✅ 完了 (2026-01-05)
- **内容:** 休日の過ごし方に選択肢を追加
- **選択肢:**
  - 近所のスーパーへ（従来通り）
  - 遠出して買い物（コスト2倍、バッグ容量2倍）
  - 料理の作り置き（複数の弁当作成、翌日まで有効）
  - のんびり休養（気力+2、体力+1）
- **変更ファイル:** `main.py`, `ui/terminal.py`

---

## 🔵 後回し（設計変更）

### 9. ~~冷蔵庫・電子レンジ初期レリック化~~ ✅ 完了 (2026-01-05)
- **内容:** ゲーム開始時に冷蔵庫と電子レンジを所持した状態にする
- **効果:**
  - 冷蔵庫: 全食材の鮮度+3日
  - 電子レンジ: 調理の気力消費-1
- **変更ファイル:** `game/relic.py`, `game/day_cycle.py`
- **備考:** `with_initial_relics=False`で「レリックなし縛り」も可能

---

## 実装済み機能（参考）

- [x] 100種類の食材
- [x] 100種類のレリック（毎日5種ランダム）
- [x] 300種類のランダムイベント（休日イベント20種含む）
- [x] 通販の翌日配送システム
- [x] 昼食の食糧複数選択
- [x] 通販食糧のセール
- [x] スーパーのカテゴリ固定化（穀物/野菜/肉魚/卵乳豆/その他）
- [x] クレジットカード払い
- [x] 天気システム
- [x] カフェイン・不眠システム
- [x] 買い物バッグ上限 + 拡張レリック5種
- [x] ネームド料理17種 + サジェスト表示
- [x] 調理前評価コメント + 確認UI
- [x] 休日専用選択肢（遠出買い物、作り置き、休養）
- [x] 初期レリック（冷蔵庫・電子レンジ）
- [x] 一度の食事で複数料理を作成可能
